<div class="nav sticky-top card">
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark sticky-top">

            <a href="#" class="navbar-brand float-left">
                <img class="logo" src="logo.png"/>
                <span class="navbar-title">Save Point</span>
            </a>

            <div class="collapse navbar-collapse" >
                <ul class="navbar-nav ms-auto text-left">

                    @if (isLogged()) {
                        <li class="nav-item dropdown">
                            <p-button
                                [styleClass]="'nav-button'"
                                iconPos="right"
                                icon="pi pi-user-minus"
                                [rounded]="true"
                                (onClick)="logoff()"
                                [text]="true"
                            />
                        </li>
                    } @else {
                        <li class="nav-item dropdown">
                            <p-button
                                [styleClass]="'nav-button'"
                                iconPos="right"
                                icon="pi pi-user-plus"
                                [rounded]="true"
                                (onClick)="gotoLogin()"
                                [text]="true"
                            />
                        </li>
                    }

                    <li class="nav-item dropdown">
                        <p-button
                            [styleClass]="'nav-button'"
                            iconPos="right"
                            icon="pi pi-receipt"
                            [rounded]="true"
                            (onClick)="toggleHistorico()"
                            [text]="true"
                        />
                    </li>

                    <li class="nav-item">
                        <div>
                            <p-button
                                [styleClass]="'nav-button'"
                                icon="pi pi-shopping-cart"
                                [rounded]="true"
                                (onClick)="toggleCarrinho()"
                                [text]="true"
                            >

                            @if (carrinho &&  carrinho.totalProdutos() !== '') {
                                <span class="exclamation">{{carrinho.totalProdutos()}}</span>
                            }

                            </p-button>
                        </div>
                    </li>

                </ul>
            </div>
        </nav>
    </div>
</div>

<app-pagamento-historico></app-pagamento-historico>

<app-carrinho></app-carrinho>